/* 
 * AutoXpress CRM Badge Components
 * ===================================
 * 
 * This file contains all badge/status indicator styles used throughout the AutoXpress CRM.
 * This replaces the scattered status badge definitions across multiple files and provides
 * a unified badge system with consistent styling and semantic meaning.
 * 
 * Badge Types:
 * - Status badges (.ax-badge--status-[variant])
 * - Info badges (.ax-badge--info)
 * - Count badges (.ax-badge--count)
 * - Context badges (.ax-badge--[context])
 * 
 * Usage: <span class="ax-badge ax-badge--status-pending">Pending</span>
 */

/* === BASE BADGE === */
.ax-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--badge-padding-y) var(--badge-padding-x);
  border-radius: var(--radius-badge);
  font-size: var(--badge-font-size);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-tight);
  text-transform: capitalize;
  letter-spacing: 0.025em;
  border: 1px solid transparent;
  min-height: var(--badge-height);
  
  /* Icon handling */
  i {
    font-size: 0.75em;
    margin-right: var(--space-xs);
  }
  
  &:last-child i {
    margin-right: 0;
    margin-left: var(--space-xs);
  }
}

/* === BADGE SIZES === */
.ax-badge--sm {
  padding: calc(var(--badge-padding-y) * 0.5) calc(var(--badge-padding-x) * 0.75);
  font-size: calc(var(--badge-font-size) * 0.875);
  min-height: calc(var(--badge-height) * 0.75);
}

.ax-badge--lg {
  padding: calc(var(--badge-padding-y) * 1.25) calc(var(--badge-padding-x) * 1.5);
  font-size: calc(var(--badge-font-size) * 1.125);
  min-height: calc(var(--badge-height) * 1.25);
}

/* === STATUS BADGES === */
/* Order/General Status Badges */

.ax-badge--status-pending {
  background: var(--color-status-pending);
  color: var(--color-status-pending-text);
  border-color: var(--color-warning-200);
}

.ax-badge--status-completed {
  background: var(--color-status-completed);
  color: var(--color-status-completed-text);
  border-color: var(--color-success-200);
}

.ax-badge--status-cancelled {
  background: var(--color-status-cancelled);
  color: var(--color-status-cancelled-text);
  border-color: var(--color-brand-red-200);
}

.ax-badge--status-in-progress {
  background: var(--color-status-in-progress);
  color: var(--color-status-in-progress-text);
  border-color: var(--color-info-200);
}

/* Callback-Specific Status Badges */
.ax-badge--status-not-interested {
  background: var(--color-status-not-interested);
  color: var(--color-status-not-interested-text);
  border-color: var(--color-brand-red-200);
}

.ax-badge--status-already-purchased {
  background: var(--color-status-already-purchased);
  color: var(--color-status-already-purchased-text);
  border-color: #ddd6fe;
}

.ax-badge--status-sale {
  background: var(--color-status-sale);
  color: var(--color-status-sale-text);
  border-color: var(--color-success-200);
}

.ax-badge--status-payment-link {
  background: var(--color-status-payment-link);
  color: var(--color-status-payment-link-text);
  border-color: var(--color-info-200);
}

.ax-badge--status-follow-up {
  background: var(--color-status-follow-up);
  color: var(--color-status-follow-up-text);
  border-color: #f9a8d4;
}

/* === SEMANTIC BADGES === */
.ax-badge--success {
  background: var(--color-success-100);
  color: var(--color-success-800);
  border-color: var(--color-success-200);
}

.ax-badge--warning {
  background: var(--color-warning-100);
  color: var(--color-warning-800);
  border-color: var(--color-warning-200);
}

.ax-badge--danger {
  background: var(--color-brand-red-100);
  color: var(--color-brand-red-800);
  border-color: var(--color-brand-red-200);
}

.ax-badge--info {
  background: var(--color-info-100);
  color: var(--color-info-800);
  border-color: var(--color-info-200);
}

/* === CONTEXT BADGES === */
/* Different styling approaches for different contexts */

/* Default Style - Solid backgrounds */
.ax-badge--default {
  /* Uses base styles */
}

/* Gradient Style - For dashboard/premium feel */
.ax-badge--gradient {
  &.ax-badge--status-pending {
    background: linear-gradient(135deg, var(--color-warning-100), var(--color-warning-200));
    border-color: var(--color-warning-300);
  }
  
  &.ax-badge--status-completed {
    background: linear-gradient(135deg, var(--color-success-100), var(--color-success-200));
    border-color: var(--color-success-300);
  }
  
  &.ax-badge--status-cancelled {
    background: linear-gradient(135deg, var(--color-brand-red-100), var(--color-brand-red-200));
    border-color: var(--color-brand-red-300);
  }
  
  &.ax-badge--status-sale {
    background: linear-gradient(135deg, var(--color-success-100), var(--color-success-200));
    border-color: var(--color-success-300);
  }
}

/* Outline Style - For minimal/clean look */
.ax-badge--outline {
  background: transparent;
  border-width: 1px;
  border-style: solid;
  
  &.ax-badge--status-pending {
    color: var(--color-warning-700);
    border-color: var(--color-warning-300);
  }
  
  &.ax-badge--status-completed {
    color: var(--color-success-700);
    border-color: var(--color-success-300);
  }
  
  &.ax-badge--status-cancelled {
    color: var(--color-brand-red-700);
    border-color: var(--color-brand-red-300);
  }
}

/* Minimal Style - For callback context */
.ax-badge--minimal {
  padding: calc(var(--badge-padding-y) * 0.75) var(--badge-padding-x);
  border-radius: var(--radius-sm);
  text-transform: capitalize;
  font-weight: var(--font-weight-medium);
}

/* === ANIMATED BADGES === */
.ax-badge--pulsing {
  &.ax-badge--warning,
  &.ax-badge--status-pending {
    animation: ax-pulse-warning 2s infinite;
  }
  
  &.ax-badge--danger,
  &.ax-badge--status-cancelled {
    animation: ax-pulse-danger 2s infinite;
  }
  
  &.ax-badge--success,
  &.ax-badge--status-completed {
    animation: ax-pulse-success 2s infinite;
  }
}

/* === COUNT BADGES === */
.ax-badge--count {
  background: var(--color-brand-red);
  color: white;
  border-radius: var(--radius-full);
  min-width: var(--badge-height);
  padding: var(--space-xs);
  font-size: var(--text-xs);
  font-weight: var(--font-weight-bold);
  text-align: center;
  
  &.ax-badge--count-sm {
    min-width: calc(var(--badge-height) * 0.75);
    font-size: calc(var(--text-xs) * 0.875);
  }
}

/* === DOT BADGES === */
.ax-badge--dot {
  padding: 0;
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  min-height: auto;
  
  &.ax-badge--status-pending {
    background: var(--color-warning);
  }
  
  &.ax-badge--status-completed {
    background: var(--color-success);
  }
  
  &.ax-badge--status-cancelled {
    background: var(--color-danger);
  }
}

/* === BADGE COMBINATIONS === */
.ax-badge-group {
  display: flex;
  gap: var(--space-xs);
  align-items: center;
  flex-wrap: wrap;
}

.ax-badge-with-icon {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  
  .ax-badge {
    margin: 0;
  }
}

/* === LEGACY COMPATIBILITY === */
/* Map existing status badge classes to new system */
.status-badge {
  @extend .ax-badge;
  
  /* Apply default styling context */
  &.status-pending {
    @extend .ax-badge--status-pending;
  }
  
  &.status-completed {
    @extend .ax-badge--status-completed;
  }
  
  &.status-cancelled {
    @extend .ax-badge--status-cancelled;
  }
  
  &.status-not_interested {
    @extend .ax-badge--status-not-interested;
  }
  
  &.status-already_purchased {
    @extend .ax-badge--status-already-purchased;
  }
  
  &.status-sale {
    @extend .ax-badge--status-sale;
  }
  
  &.status-payment_link {
    @extend .ax-badge--status-payment-link;
  }
  
  &.status-follow_up {
    @extend .ax-badge--status-follow-up;
  }
}

/* Legacy callback status badges */
.callback-status-badge {
  @extend .ax-badge;
  @extend .ax-badge--minimal;
  
  &.status-pending {
    @extend .ax-badge--status-pending;
  }
  
  &.status-follow_up {
    @extend .ax-badge--status-follow-up;
  }
}

/* === RESPONSIVE BEHAVIOR === */
@media (max-width: 768px) {
  .ax-badge {
    font-size: var(--text-sm);
    padding: var(--space-xs) var(--space-sm);
  }
  
  .ax-badge-group {
    gap: var(--space-sm);
  }
}

/* === ACCESSIBILITY === */
@media (prefers-reduced-motion: reduce) {
  .ax-badge--pulsing {
    animation: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .ax-badge {
    border-width: 2px;
    font-weight: var(--font-weight-bold);
  }
  
  .ax-badge--outline {
    border-width: 2px;
  }
}