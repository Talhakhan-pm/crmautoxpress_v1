<div style="display: flex; flex-direction: column; gap: 1rem; max-height: 450px; overflow-y: auto; padding-right: 0.5rem; width: 100%;">
  <% activities.each do |activity| %>
    <div class="activity-item">
      <div class="activity-avatar">
        <% case activity.action %>
        <% when 'created' %>
          <i class="fas fa-plus activity-icon-create"></i>
        <% when 'updated' %>
          <i class="fas fa-edit activity-icon-update"></i>
        <% when 'viewed' %>
          <i class="fas fa-eye activity-icon-view"></i>
        <% end %>
      </div>
      <div class="activity-content">
        <p class="activity-text">
          <strong><%= activity.user.email.split('@').first.humanize %></strong>
          <%= activity.action.humanize.downcase %>
          <% if activity.trackable.is_a?(AgentCallback) %>
            callback for <strong><%= activity.trackable.customer_name %></strong>
          <% end %>
          <% if activity.action == 'updated' && activity.field_changed == 'status' %>
            <span class="status-change">
              to <span class="status-badge status-<%= activity.new_value %>"><%= activity.new_value.humanize %></span>
            </span>
          <% end %>
        </p>
        <span class="activity-time"><%= time_ago_in_words(activity.created_at) %> ago</span>
      </div>
    </div>
  <% end %>
</div>