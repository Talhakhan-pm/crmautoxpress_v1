<!-- Table View Content -->
<div class="table-container">
  <div class="table-wrapper">
    <table class="data-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Status</th>
          <th>Product</th>
          <th>Car Make & Model</th>
          <th>Year</th>
          <th>ZIP</th>
          <th>Customer Name</th>
          <th>Callback Number</th>
          <th>Follow-up Date</th>
          <th>Agent</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="callbacks">
        <% @callbacks.each do |callback| %>
          <tr id="<%= dom_id(callback) %>" data-status="<%= callback.status %>">
            <td><%= callback.created_at.strftime('%Y-%m-%d') %></td>
            <td><span class="status-badge status-<%= callback.status %>"><%= (callback.status || 'pending').humanize %></span></td>
            <td><%= callback.product %></td>
            <td><%= callback.car_make_model %></td>
            <td><%= callback.year %></td>
            <td><%= callback.zip_code %></td>
            <td style="color: #dc2626; font-weight: 500;"><%= callback.customer_name %></td>
            <td><%= callback.phone_number %></td>
            <td><%= callback.follow_up_date %></td>
            <td><%= callback.agent %></td>
            <td>
              <div class="action-group">
                <%= link_to callback_path(callback), class: "action-btn", data: { turbo_frame: "main_content", turbo_prefetch: false }, title: "View Details" do %>
                  <i class="fas fa-eye"></i>
                <% end %>
                
                <% unless callback.status == 'sale' %>
                  <%= link_to new_order_path(callback_id: callback.id), class: "action-btn order-btn", title: "Convert to Order", data: { turbo_frame: "_top" } do %>
                    <i class="fas fa-shopping-cart"></i>
                  <% end %>
                <% else %>
                  <span class="action-btn disabled" title="Already converted to order">
                    <i class="fas fa-check-circle"></i>
                  </span>
                <% end %>
                
                <%= link_to callback_path(callback), method: :delete, class: "action-btn delete-btn", 
                    confirm: "Are you sure you want to delete this callback?", 
                    data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this callback?", turbo_prefetch: false },
                    title: "Delete Callback" do %>
                  <i class="fas fa-trash"></i>
                <% end %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="pagination">
    <div class="pagination-info">
      Showing <%= @callbacks.count %> of <%= @callbacks.count %> results
    </div>
  </div>
</div>