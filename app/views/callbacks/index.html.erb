<%= turbo_frame_tag "main_content", data: { turbo_action: "advance", controller: "callback-form" } do %>
  <!-- Unified Callbacks View - Dashboard Default, Table Optional -->
  <main class="main-content">
    <%= turbo_stream_from "callbacks" %>
    <%= turbo_stream_from "callback_dashboard" %>
    
    <!-- Shared Header with View Toggle -->
    <%= render 'shared_header' %>
    
    <!-- Shared Filters -->
    <%= render 'shared_filters' %>
    
    <!-- Conditional Content Rendering -->
    <% if params[:view] == 'table' %>
      <!-- Table View -->
      <%= render 'table_view' %>
    <% else %>
      <!-- Dashboard View (Default) -->
      <%= render 'dashboard_view' %>
    <% end %>
  </main>
<% end %>